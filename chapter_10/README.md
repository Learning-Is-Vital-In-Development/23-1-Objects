# Chapter 10 - 상속과 코드 재사용

## 상속과 중복 코드

### DRY 원칙(Don’t Repeat Yourself)

- 비즈니스와 관련된 지식은 항상 변화함 → 코드는 언젠가는 변경됨
- DRY원칙은 **코드 안에 중복이 존재해서는 안 된다**는 것

### 상속을 이용하여 중복 코드 제거하기

- 코드 복사 X, 코드를 중복시키지 않고 대부분의 코드 재사용 가능
- 상속을 염두에 두고 설계되지 않은 클래스를 상속을 이용해 재사용하는 것은 쉽지 않음(EX: 통화 요금 계산 코드)
- 상속은 부모-자식 클래스 간 결합도를 높임 → 코드 수정이 어려움
- ‘취약한 기반 클래스 문제’ 발생 : 자식 클래스가 부모 클래스의 변경에 취약해짐

### 취약한 기반 클래스 문제

- 상속: 자식 클래스를 점진적으로 추가해서 기능 확장에는 용이
- but 부모 클래스를 점진적으로 개선하기는 어려움
- 불필요한 인터페이스 상속 문제
    - java.util.Stack, java.util.Properties
- 메서드 오버라이딩의 오작용 문제
    - InstrumentHashSet 클래스
- 부모 클래스의 자식 클래스의 동시 수정 문제

> *조슈아 블로치 : 클래스가 상속되기를 원한다면, 상속을 위해 클래스를 설계하고 문서화해야 하며, 그렇지 않은 경우에는 상속을 금지시켜야 한다.*
> 
- 추상화에 의존
    - 두 메서드가 유사하게 보이면 차이점을 메서드로 추출하라
    - 부모 클래스의 코드를 상위로 올리지 X, 자식 클래스의 코드를 상위로 올려라(재사용성, 응집도 good)
- 차이를 메서드로 추출(ex: Phone 클래스, NightlyDiscountPhone 클래스 사이 cacluateFee 메서드 추출)
- 중복 부분 부모 클래스로 올리기

### 차이에 의한 프로그래밍

→ 기존 코드와 다른 부분을 추가함으로써 애플리케이션의 기능을 확장하는 방법
